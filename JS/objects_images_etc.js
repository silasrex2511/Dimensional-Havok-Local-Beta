var lvl = 1;
var path = new line(0,0,0,0);
var player = new character("./res/chars/alfred.png", mage);
var playerRightClick = new point();
var targetClick = new point();
var pathEnd = new point();
var barsUnderlay = new rectMngr(5,5,300,100,"rgba(50,50,50,.7)","underlay");
var hpBarMask = new rectMngr(100,10,200,15,"black","hpMask");
var hpBar = new rectMngr(100,10,200 * (player.hp / player.totalHp),15,"red","hpBar");
var mpBarMask = new rectMngr(100,30,200,15,"black","mpMask");
var mpBar = new rectMngr(100,30,200 * (player.mana / player.totalMana),15,"blue","mpBar");
var xpBarMask = new rectMngr(c.width/2 - 70 * 4 / 2 , 590, 70 * 4, 10, "gray");
var xpBar = new rectMngr(260,590,280 * (player.xp / Math.round(20 * Math.pow(1.25, player.lvl))),8,"green","xpBar");
var bars = [barsUnderlay, hpBarMask, hpBar, mpBarMask, mpBar, xpBarMask, xpBar];
var miniMapUnderlay = new rectMngr(c.width-150,0,150,150,"rgba(40,40,40,.5)","map");
var playerIndicator = new circleMngr(c.width-75,75,2,"rgba(0,255,0,.5)","rgba(0,255,0,.5)",2,"playerDot");
var miniMapDisplay = [miniMapUnderlay,playerIndicator];
var copy = new imageData(0,0,64,64,"./res/chars/alfred.png");
var enemy = new enemy(copy,500,200,5,2,.7,8,5);
var enemies = [enemy];
player.enemies = enemies;
for(var i = 0; i < player.enemies.length; i++){
  var nme = player.enemies[i].image;
  var x = (nme.x - player.image.x) / 10 + playerIndicator.x;
  var y = (nme.y - player.image.y) / 10 + playerIndicator.y;
  miniMapDisplay[2+i] = new rectMngr(x,y,4,4,"rgba(255,0,0,.6)","enemy");
}
var world = new map(world1Tex,introMap,50,30,64,64);
var objects = [player.enemies[0].image,targetClick];
var havok = new game(player.image,world,objects,lvl);
var inventory = new imageData(0,0,40,40,"./res/misc/ClassesIcon.png","menuButton");
var menuButtons = [inventory];
